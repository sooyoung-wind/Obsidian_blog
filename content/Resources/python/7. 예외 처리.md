---
title: 7. 예외 처리
date: 2024-09-02 13:49
tags:
  - python
---

Created at : 2024-09-02 13:49  
Auther: Soo.Y  

# 7. 예외 처리 (Exception Handling)

프로그래밍을 할 때, 예상치 못한 오류가 발생하는 것은 흔한 일입니다. 이러한 오류는 프로그램이 갑작스럽게 종료되게 만들 수 있습니다. 파이썬에서는 이러한 오류를 예외(Exception)라고 하며, 예외 처리를 통해 프로그램의 안정성을 높일 수 있습니다. 이 장에서는 파이썬에서 예외를 처리하는 방법과 사용자 정의 예외를 다루는 방법을 배웁니다.

## 7.1 예외의 기본 개념

예외(Exception)는 프로그램 실행 중에 발생하는 오류를 의미합니다. 예외가 발생하면 프로그램의 흐름이 중단되고, 오류 메시지가 출력됩니다. 하지만 예외를 적절하게 처리하면 프로그램이 종료되지 않고 계속 실행될 수 있습니다.

- **기본 예외 발생**:
```python
x = 10 / 0  # ZeroDivisionError 발생
```

  위 코드는 `ZeroDivisionError` 예외를 발생시킵니다. 0으로 나누는 연산은 허용되지 않기 때문입니다.

## 7.2 `try`와 `except`를 사용한 예외 처리

파이썬에서는 `try`와 `except` 블록을 사용하여 예외를 처리할 수 있습니다. `try` 블록 안에 예외가 발생할 수 있는 코드를 작성하고, `except` 블록 안에 예외가 발생했을 때 실행할 코드를 작성합니다.

- **기본 구조**:
```python
try:
    실행할_코드
except 예외타입:
    예외가_발생했을_때_실행할_코드
```

- **예제**:
```python
try:
    x = 10 / 0
except ZeroDivisionError:
    print("0으로 나눌 수 없습니다.")
```

  이 코드는 `ZeroDivisionError` 예외가 발생할 때 "0으로 나눌 수 없습니다."라는 메시지를 출력하고, 프로그램이 정상적으로 종료되도록 합니다.

## 7.3 여러 예외 처리

하나의 `try` 블록에 대해 여러 개의 `except` 블록을 사용하여 서로 다른 예외를 처리할 수 있습니다.

- **예제**:
```python
try:
    x = int(input("숫자를 입력하세요: "))
    y = 10 / x
except ValueError:
    print("유효한 숫자를 입력하세요.")
except ZeroDivisionError:
    print("0으로 나눌 수 없습니다.")
```

  이 예제에서는 사용자가 숫자가 아닌 값을 입력했을 때와, 0을 입력했을 때 각각의 예외를 처리합니다.

## 7.4 모든 예외 처리

모든 예외를 포괄적으로 처리하고 싶을 때는 `except` 블록에 예외 타입을 명시하지 않고 사용할 수 있습니다.

- **예제**:
```python
try:
    x = int(input("숫자를 입력하세요: "))
    y = 10 / x
except:
    print("예외가 발생했습니다.")
```

  이 코드에서는 어떤 예외가 발생하더라도 "예외가 발생했습니다."라는 메시지를 출력합니다.

## 7.5 `else`와 `finally` 블록

파이썬에서는 `try`와 `except` 블록과 함께 `else`와 `finally` 블록을 사용할 수 있습니다.

- **`else` 블록**: `try` 블록에서 예외가 발생하지 않았을 때 실행됩니다.
- **`finally` 블록**: 예외 발생 여부와 상관없이 항상 실행됩니다. 파일 닫기와 같은 정리 작업에 유용합니다.

- **예제**:
```python
try:
    x = int(input("숫자를 입력하세요: "))
    y = 10 / x
except ZeroDivisionError:
    print("0으로 나눌 수 없습니다.")
except ValueError:
    print("유효한 숫자를 입력하세요.")
else:
    print(f"결과는 {y}입니다.")
finally:
    print("프로그램이 종료되었습니다.")
```

  이 예제에서 `else` 블록은 예외가 발생하지 않았을 때만 실행되며, `finally` 블록은 항상 실행됩니다.

## 7.6 예외 객체

예외가 발생하면 예외 객체가 생성됩니다. 예외 객체에는 오류 메시지와 같은 정보를 담고 있으며, `except` 블록에서 이를 활용할 수 있습니다.

- **예제**:
```python
try:
    x = int(input("숫자를 입력하세요: "))
    y = 10 / x
except Exception as e:
    print(f"예외가 발생했습니다: {e}")
```

  이 코드에서는 예외 객체 `e`를 사용하여 발생한 예외에 대한 구체적인 정보를 출력합니다.

## 7.7 사용자 정의 예외

기본 예외 외에도, 프로그램의 요구에 맞는 사용자 정의 예외를 만들 수 있습니다. 사용자 정의 예외는 기본적으로 `Exception` 클래스를 상속받아 정의합니다.

- **예제**:
```python
class NegativeNumberError(Exception):
    pass

def check_positive(number):
    if number < 0:
        raise NegativeNumberError("음수는 허용되지 않습니다.")

try:
    num = int(input("양수를 입력하세요: "))
    check_positive(num)
except NegativeNumberError as e:
    print(e)
```

  이 예제에서는 `NegativeNumberError`라는 사용자 정의 예외를 정의하고, 음수를 입력했을 때 예외를 발생시킵니다.

## 7.8 예외 처리의 중요성

예외 처리는 프로그램의 안정성을 높이는 데 매우 중요합니다. 예외 처리를 통해 프로그램이 예상치 못한 상황에서도 적절하게 대처할 수 있으며, 사용자에게 유용한 오류 메시지를 제공하고, 프로그램이 비정상적으로 종료되는 것을 방지할 수 있습니다.

- **예외 처리의 효과**:
  1. **프로그램의 신뢰성 향상**: 예외가 발생해도 프로그램이 갑작스럽게 종료되지 않고, 정해진 대로 처리되도록 할 수 있습니다.
  2. **유저 경험 개선**: 사용자가 오류를 겪을 때, 의미 있는 오류 메시지를 제공하여 문제를 이해하고 해결할 수 있게 돕습니다.
  3. **디버깅 용이성 증가**: 예외 객체를 활용하여 정확한 오류 원인을 파악하고, 코드를 개선할 수 있습니다.

이제 파이썬에서 예외 처리의 개념과 사용 방법에 대해 이해하게 되었습니다. 예외 처리를 통해 더욱 견고하고 신뢰할 수 있는 프로그램을 작성할 수 있습니다.


# 관련 문서

[[1. 파이썬(Python) 이란]]
