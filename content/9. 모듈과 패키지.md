---
title: 9. 모듈과 패키지
date: 2024-09-02 16:07
tags:
  - python
---

Created at : 2024-09-02 16:07  
Auther: Soo.Y  

# 9. 모듈과 패키지 (Modules and Packages)

파이썬에서 **모듈**과 **패키지**는 코드를 구조화하고 재사용성을 높이는 중요한 개념입니다. 이 장에서는 모듈과 패키지가 무엇인지, 어떻게 만들고 사용하는지, 그리고 이들이 어떻게 파이썬 프로그램의 유지보수성과 확장성을 향상시키는지에 대해 상세히 설명하겠습니다.

## 9.1 모듈 (Module)

**모듈**은 파이썬 파일 하나를 의미하며, 이 파일은 함수, 클래스, 변수 등을 포함할 수 있습니다. 모듈은 코드를 여러 파일로 분할하여 관리할 수 있게 해 주며, 이를 통해 코드의 재사용성과 가독성을 높일 수 있습니다.

### 9.1.1 모듈의 기본 개념

모듈은 다른 파이썬 프로그램에서 사용할 수 있는 코드를 정의하는 파일입니다. 모듈 파일은 `.py` 확장자를 가지며, 이를 통해 다른 파일에서 함수나 클래스를 불러와 사용할 수 있습니다.

- **예제**:
  `mymodule.py`라는 파일이 있다고 가정해봅시다.

```python
# mymodule.py

def greet(name):
    return f"안녕하세요, {name}님!"

pi = 3.14159
```

  이 모듈은 `greet` 함수와 `pi` 변수를 정의하고 있습니다.

### 9.1.2 모듈 가져오기 (Importing Modules)

다른 파일에서 모듈을 사용하려면 `import` 키워드를 사용하여 모듈을 가져와야 합니다.

- **모듈 가져오기**:
```python
import mymodule

message = mymodule.greet("홍길동")
print(message)  # 출력: 안녕하세요, 홍길동님!

print(mymodule.pi)  # 출력: 3.14159
```

  이 예제에서는 `mymodule` 모듈을 가져와서 `greet` 함수와 `pi` 변수를 사용합니다.

- **모듈에서 특정 요소만 가져오기**:
```python
from mymodule import greet, pi

print(greet("이몽룡"))  # 출력: 안녕하세요, 이몽룡님!
print(pi)  # 출력: 3.14159
```

  `from ... import` 구문을 사용하면 모듈 전체가 아닌 특정 요소만 가져올 수 있습니다.

- **모듈에 별칭 주기**:
```python
import mymodule as mm

print(mm.greet("성춘향"))  # 출력: 안녕하세요, 성춘향님!
```

  모듈을 가져올 때 `as` 키워드를 사용하여 모듈에 별칭(alias)을 줄 수 있습니다. 이는 긴 모듈 이름을 짧게 만들어 코드의 가독성을 높이는 데 유용합니다.

### 9.1.3 표준 라이브러리 (Standard Library)

파이썬은 다양한 **표준 라이브러리**를 제공하여, 개발자가 여러 가지 작업을 쉽게 수행할 수 있도록 돕습니다. 표준 라이브러리는 파이썬과 함께 설치되며, 별도의 설치 없이 바로 사용할 수 있습니다.

- **예제**:
```python
import math

print(math.sqrt(16))  # 출력: 4.0
print(math.pi)        # 출력: 3.141592653589793
```

  이 예제에서는 파이썬의 `math` 모듈을 사용하여 제곱근과 원주율을 계산합니다.

- **주요 표준 라이브러리**:
  - **`os`**: 운영 체제와 상호작용할 수 있는 기능을 제공합니다.
  - **`sys`**: 파이썬 인터프리터와 관련된 기능을 제공합니다.
  - **`datetime`**: 날짜와 시간을 처리하는 기능을 제공합니다.
  - **`json`**: JSON 데이터를 다루는 기능을 제공합니다.
  - **`re`**: 정규 표현식을 처리하는 기능을 제공합니다.

### 9.1.4 사용자 정의 모듈

자신만의 모듈을 만들어서 다른 프로젝트나 파일에서 재사용할 수 있습니다. 사용자 정의 모듈은 일반적으로 다음과 같은 단계로 작성됩니다.

1. **모듈 파일 생성**: 모듈로 사용할 파일을 생성하고, 그 안에 함수나 변수를 정의합니다.
2. **모듈 사용**: 다른 파일에서 해당 모듈을 `import`하여 사용합니다.

- **예제**:
```python
# calculator.py (사용자 정의 모듈)

def add(a, b):
    return a + b

def subtract(a, b):
    return a - b

def multiply(a, b):
    return a * b

def divide(a, b):
    if b == 0:
        return "0으로 나눌 수 없습니다."
    return a / b
```

  이 모듈은 기본적인 사칙연산을 수행하는 함수들을 포함하고 있습니다.

```python
# main.py (모듈 사용)

import calculator

print(calculator.add(10, 5))       # 출력: 15
print(calculator.subtract(10, 5))  # 출력: 5
print(calculator.multiply(10, 5))  # 출력: 50
print(calculator.divide(10, 0))    # 출력: 0으로 나눌 수 없습니다.
```

  이처럼 모듈을 정의하고 사용하는 것은 코드의 재사용성을 극대화할 수 있는 방법입니다.

## 9.2 패키지 (Package)

**패키지**는 여러 모듈을 하나의 디렉토리로 묶은 것입니다. 패키지는 모듈을 더 체계적으로 관리하고, 네임스페이스를 분리하여 코드의 복잡성을 줄일 수 있습니다. 패키지는 디렉토리로 구성되며, 각 디렉토리에는 `__init__.py` 파일이 포함되어야 합니다. 이 파일은 해당 디렉토리가 패키지임을 알려주는 역할을 합니다.

### 9.2.1 패키지의 기본 구조

패키지는 여러 모듈을 포함할 수 있으며, 다음과 같은 구조를 가질 수 있습니다.

- **패키지 구조 예제**:
```
mypackage/
    __init__.py
    module1.py
    module2.py
    subpackage/
        __init__.py
        module3.py
```

  - `mypackage`: 최상위 패키지 디렉토리.
  - `__init__.py`: 패키지 초기화 파일.
  - `module1.py`, `module2.py`: 패키지에 포함된 모듈.
  - `subpackage`: 하위 패키지 디렉토리.
  - `module3.py`: 하위 패키지에 포함된 모듈.

### 9.2.2 패키지 가져오기

패키지에서 모듈을 가져올 때는 `import` 문을 사용합니다. 모듈의 경로를 점(`.`)으로 구분하여 사용합니다.

- **예제**:
```python
# 패키지 구조
# mypackage/
#     __init__.py
#     mathoperations.py

# mathoperations.py
def add(a, b):
    return a + b

def subtract(a, b):
    return a - b
```

```python
# main.py
from mypackage import mathoperations

print(mathoperations.add(10, 5))  # 출력: 15
print(mathoperations.subtract(10, 5))  # 출력: 5
```

  이 예제에서는 `mypackage` 패키지 내의 `mathoperations` 모듈을 가져와서 사용하고 있습니다.

### 9.2.3 `__init__.py` 파일

`__init__.py` 파일은 패키지의 초기화 파일로, 해당 디렉토리를 패키지로 인식하도록 합니다. 이 파일은 비어 있을 수 있지만, 일반적으로 패키지를 초기화하거나, 하위 모듈을 쉽게 가져올 수 있도록 설정하는 데 사용됩니다.

- **`__init__.py` 파일의 역할**:
  - 패키지 초기화 코드 실행.
  - 하위 모듈을 임포트하여 패키지 외부에서 쉽게 접근할 수 있도록 설정.
  - 패키지의 버전 정보 또는 메타데이터 정의.

- **예제**:
```python
# mypackage/__init__.py

from .mathoperations import add, subtract
```

  이 예제에서는 `__init__.py` 파일을 통해 `mathoperations` 모듈의 `add`와 `subtract` 함수를 직접 패키지 레벨에서 사용할 수 있게 만듭니다.

```python
# main.py
from mypackage import add, subtract

print(add(10, 5))  # 출력: 15
print(subtract(10, 5))  # 출력: 5
```

 

 이 코드는 `mypackage`에서 직접 `add`와 `subtract`를 가져와 사용할 수 있게 합니다.

### 9.2.4 하위 패키지 가져오기

패키지 내에서 하위 패키지를 구성할 수 있으며, 이를 통해 더 복잡한 구조의 모듈을 관리할 수 있습니다. 하위 패키지의 모듈을 가져올 때는 점(`.`)으로 경로를 구분합니다.

- **예제**:
```
mypackage/
    __init__.py
    operations/
        __init__.py
        add.py
        subtract.py
```

```python
# add.py
def add(a, b):
    return a + b
```

```python
# subtract.py
def subtract(a, b):
    return a - b
```

```python
# main.py
from mypackage.operations.add import add
from mypackage.operations.subtract import subtract

print(add(10, 5))  # 출력: 15
print(subtract(10, 5))  # 출력: 5
```

  이 예제에서는 `mypackage.operations`라는 하위 패키지 내의 `add`와 `subtract` 모듈을 각각 가져와 사용합니다.

### 9.2.5 패키지의 유용성

패키지는 모듈을 체계적으로 관리하고, 코드의 재사용성을 극대화하는 데 매우 유용합니다. 특히 대규모 프로젝트에서는 패키지를 사용하여 코드를 모듈화하고, 각 모듈의 역할을 명확히 분리할 수 있습니다. 이를 통해 코드의 유지보수성이 향상되고, 협업 시에도 코드의 충돌을 최소화할 수 있습니다.

- **장점**:
  - **코드 모듈화**: 코드를 작은 모듈로 나누어 관리할 수 있습니다.
  - **네임스페이스 관리**: 서로 다른 모듈이나 패키지에서 같은 이름을 사용하더라도 충돌을 피할 수 있습니다.
  - **재사용성**: 한 번 작성한 모듈이나 패키지를 여러 프로젝트에서 재사용할 수 있습니다.
  - **가독성 향상**: 코드의 구조를 체계적으로 만들어 가독성을 높일 수 있습니다.

## 9.3 모듈과 패키지 배포

모듈과 패키지를 배포하면 다른 개발자들이 쉽게 설치하고 사용할 수 있습니다. 파이썬에서는 이러한 배포 과정을 지원하기 위해 `pip`와 `PyPI`(Python Package Index)를 사용합니다.

### 9.3.1 패키지 배포 준비

모듈이나 패키지를 배포하려면 먼저 필요한 파일들을 준비해야 합니다. 일반적으로 다음과 같은 파일이 필요합니다.

- **`setup.py`**: 배포할 패키지의 메타데이터와 설치 스크립트를 포함하는 파일입니다.
- **`README.md`**: 패키지에 대한 설명을 포함하는 파일입니다.
- **`LICENSE`**: 패키지의 라이선스를 명시하는 파일입니다.
- **`requirements.txt`**: 패키지가 의존하는 다른 패키지들의 목록을 포함하는 파일입니다.

- **`setup.py` 예제**:
```python
from setuptools import setup, find_packages

setup(
    name="mypackage",
    version="0.1",
    packages=find_packages(),
    install_requires=[
        "numpy",
        "requests",
    ],
    author="Your Name",
    author_email="your.email@example.com",
    description="A simple example package",
    long_description=open("README.md").read(),
    long_description_content_type="text/markdown",
    url="https://github.com/yourusername/mypackage",
    classifiers=[
        "Programming Language :: Python :: 3",
        "License :: OSI Approved :: MIT License",
        "Operating System :: OS Independent",
    ],
    python_requires=">=3.6",
)
```

  이 예제에서 `setup.py` 파일은 패키지의 이름, 버전, 필요한 의존성, 작성자 정보 등을 포함합니다. `find_packages()` 함수는 패키지 내의 모든 하위 패키지를 자동으로 찾습니다.

### 9.3.2 패키지 배포 과정

1. **패키지 빌드**:
   패키지를 빌드하려면 터미널에서 다음 명령을 실행합니다.
```bash
python setup.py sdist bdist_wheel
```

   이 명령은 소스 배포(`sdist`)와 휠 배포(`bdist_wheel`) 파일을 생성합니다.

2. **패키지 배포**:
   빌드된 패키지를 PyPI에 배포하려면 `twine` 도구를 사용합니다. 먼저 `twine`을 설치합니다.
```bash
pip install twine
```

   그런 다음, 다음 명령으로 패키지를 배포합니다.
```bash
twine upload dist/*
```

   이 명령은 `dist/` 디렉토리 안의 모든 배포 파일을 PyPI에 업로드합니다.

### 9.3.3 패키지 설치

배포된 패키지는 `pip` 명령어를 사용하여 쉽게 설치할 수 있습니다.

- **패키지 설치 예제**:
```bash
pip install mypackage
```

  이 명령은 PyPI에서 `mypackage`를 다운로드하여 설치합니다.

## 9.4 모듈과 패키지의 최적 사용

모듈과 패키지를 적절히 활용하면 코드의 재사용성을 높이고, 대규모 프로젝트에서도 코드의 복잡성을 효과적으로 관리할 수 있습니다.

- **모듈화**:
  - 한 파일에 모든 코드를 작성하는 대신, 관련 기능을 여러 모듈로 분리하여 관리합니다.
  - 각 모듈은 하나의 특정한 역할을 수행하도록 설계해야 합니다.

- **패키지화**:
  - 여러 모듈을 하나의 패키지로 묶어, 네임스페이스 충돌을 방지하고 코드를 체계적으로 구성합니다.
  - 패키지를 사용하여 프로젝트를 계층적으로 구조화할 수 있습니다.

- **재사용성 극대화**:
  - 자주 사용하는 기능은 모듈로 작성하여 여러 프로젝트에서 재사용할 수 있도록 합니다.
  - 배포 가능한 패키지를 만들어 다른 개발자와 공유할 수 있습니다.

이제 파이썬에서 모듈과 패키지의 개념, 활용 방법, 그리고 배포 과정에 대해 깊이 이해하게 되었습니다. 이 장에서 배운 내용을 바탕으로, 여러분은 더 복잡한 프로젝트를 구조화하고 관리할 수 있을 것입니다.


# 관련 문서

[[1. 파이썬(Python) 이란]]
